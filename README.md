# 연구실 자리 예약 시스템 (실시간 동기화 버전)

## 개요
연구실의 자리를 효율적으로 관리하기 위한 웹 기반 예약 시스템입니다. Firebase를 통한 실시간 동기화와 관리자 기능을 지원하여 여러 사람이 동시에 사용할 수 있습니다.

## 🆕 새로운 기능

### 🔄 실시간 동기화
- Firebase Realtime Database를 통한 실시간 데이터 동기화
- 여러 사용자가 동시에 접속하여 사용 가능
- 자동 연결 복구 및 오프라인 지원

### 👨‍💼 관리자 기능
- **관리자 로그인**: 비밀번호 기반 관리자 인증 (기본: `admin123`)
- **예약 관리**: 모든 예약 초기화, 개별 예약 취소
- **세션 관리**: 강제 세션 리셋
- **점검 모드**: 시스템 점검 시 예약 기능 일시 중단
- **실시간 통계**: 이용률, 온라인 사용자 수, 예약 현황
- **데이터 내보내기**: JSON 형태로 예약 데이터 다운로드

### � 모바일 최적화
- 완전한 반응형 디자인 (데스크톱, 태블릿, 모바일)
- 터치 친화적 인터페이스
- 모바일에서 햅틱 피드백 지원
- 가로/세로 모드 자동 대응
- iOS Safari 뷰포트 높이 문제 해결
- 더블탭 줌 방지

### 🔧 PWA (Progressive Web App) 지원
- 홈 화면에 앱처럼 설치 가능
- 오프라인 기본 기능 지원
- 네이티브 앱과 유사한 사용자 경험
- 서비스 워커를 통한 캐싱

## 주요 기능

### 🕐 자동 세션 관리
- **오전 세션**: 06:00 - 11:59
- **오후 세션**: 12:00 - 17:59
- 세션 변경 시점에 모든 예약이 자동으로 초기화됩니다.

### 🪑 자리 배치
- **중앙 테이블**: 2×2 배열 테이블 2개 (총 8자리)
- **개별 좌석**: 1×5 배열 테이블 1개 (총 5자리)
- **총 좌석 수**: 13개

### 📍 연구실 레이아웃
```
        [창문]
         
    [테이블1] [테이블2]
    1  2      5  6
    3  4      7  8
    
    9  10  11  12  13
    
        [창문]
[방문]
```

### 💺 좌석 상태
- **초록색**: 사용 가능한 자리
- **빨간색**: 다른 사람이 예약한 자리
- **파란색**: 내가 예약한 자리
- **주황색**: 현재 선택한 자리

## 사용법

### 1. 자리 예약하기
1. 이름을 입력합니다
2. 원하는 자리를 클릭합니다
3. "예약하기" 버튼을 클릭합니다

### 2. 예약 취소하기
1. 이름을 입력합니다
2. 본인이 예약한 자리를 클릭합니다
3. "예약 취소" 버튼을 클릭합니다

### 3. 예약 규칙
- 한 사람당 하나의 자리만 예약 가능합니다
- 새로운 자리를 예약하면 기존 예약은 자동으로 취소됩니다
- 본인이 예약한 자리만 취소할 수 있습니다
- 다른 사람이 예약한 자리는 선택할 수 없습니다

## 기술 정보

### 파일 구조
```
sclab_seatmap/
├── index.html      # 메인 HTML 파일
├── style.css       # 스타일시트
├── script.js       # JavaScript 로직
└── README.md       # 이 파일
```

### 데이터 저장
- 브라우저의 localStorage를 사용하여 예약 정보를 저장합니다
- 세션별로 별도의 키를 사용하여 데이터를 관리합니다
- 페이지를 새로고침해도 예약 정보가 유지됩니다

### 반응형 디자인
- 모바일 기기에서도 사용할 수 있도록 반응형으로 제작되었습니다
- 화면 크기에 따라 레이아웃이 자동으로 조정됩니다

## 실행 방법

### 1. Firebase 설정 (실시간 동기화 사용 시)

1. [Firebase Console](https://console.firebase.google.com/)에서 새 프로젝트 생성
2. "Realtime Database" 활성화
3. 보안 규칙을 다음과 같이 설정:
```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```
4. 프로젝트 설정에서 웹 앱 추가 후 설정 정보 복사
5. `firebase-config.js`의 `firebaseConfig` 객체를 실제 설정으로 교체
6. `isDevelopment`를 `false`로 변경

### 2. 로컬에서 실행

#### 방법 1: 직접 파일 열기
- 웹 브라우저에서 `index.html` 파일을 직접 엽니다
- Firebase 설정이 없으면 자동으로 localStorage 모드로 실행됩니다

#### 방법 2: 로컬 서버 사용 (권장)
```powershell
# Python이 설치된 경우
cd c:\Users\yhim0\sclab_seatmap
python -m http.server 8000

# Node.js가 설치된 경우
npx http-server

# Live Server 확장 프로그램 사용 (VS Code)
# 우클릭 -> "Open with Live Server"
```

그 후 브라우저에서 `http://localhost:8000`으로 접속합니다.

### 3. 클라우드 배포

#### Netlify (무료, 추천)
1. [Netlify](https://www.netlify.com/)에 가입
2. 프로젝트 폴더를 드래그 앤 드롭으로 업로드
3. 자동으로 URL 생성됨

#### Vercel
1. [Vercel](https://vercel.com/)에 가입
2. GitHub 저장소 연결 또는 폴더 업로드
3. 자동 배포

#### Firebase Hosting
```bash
npm install -g firebase-tools
firebase login
firebase init hosting
firebase deploy
```

## 반응형 디자인 특징

### 📱 모바일 (768px 이하)
- 세로 배치로 자동 변경
- 터치 친화적 버튼 크기 (최소 44px)
- 작은 화면에 최적화된 폰트 크기
- 모바일 토스트 메시지
- 관리자 패널 모달 방식 표시

### 📟 태블릿 (769px ~ 1024px)
- 중간 크기 레이아웃
- 터치와 마우스 모두 지원
- 균형잡힌 요소 배치

### 💻 데스크톱 (1025px 이상)
- 가로 배치 최적화
- 마우스 호버 효과
- 넓은 화면 활용

### 🔄 가로/세로 모드 대응
- 화면 회전 자동 감지
- 레이아웃 동적 조정
- 뷰포트 높이 재계산

### 📲 PWA 설치 방법

#### 안드로이드 (Chrome)
1. 사이트 접속
2. 메뉴 → "홈 화면에 추가"
3. 앱 이름 확인 후 "추가"

#### iOS (Safari)
1. 사이트 접속
2. 공유 버튼 → "홈 화면에 추가"
3. 앱 이름 확인 후 "추가"

#### 데스크톱 (Chrome, Edge)
1. 주소창 옆 설치 아이콘 클릭
2. "설치" 버튼 클릭

## 관리자 기능 사용법

### 1. 관리자 로그인
1. 화면 우상단의 "관리자 모드" 버튼 클릭
2. 비밀번호 입력 (기본: `admin123`)
3. "로그인" 버튼 클릭

### 2. 관리자 기능들
- **모든 예약 초기화**: 현재 세션의 모든 예약을 삭제
- **세션 강제 리셋**: 오전/오후 세션을 강제로 변경
- **점검 모드**: 일반 사용자의 예약 기능을 일시 중단
- **데이터 내보내기**: 현재 예약 데이터를 JSON 파일로 다운로드
- **개별 예약 취소**: 예약자 목록에서 개별 예약 취소

### 3. 실시간 통계 확인
- 총 자리 수 / 예약된 자리 수
- 이용률 (백분율)
- 현재 온라인 사용자 수
- 현재 예약자 목록 (실시간 업데이트)

## 사용자 팁

1. **시간 확인**: 화면 상단에서 현재 시간과 다음 리셋 시간을 확인할 수 있습니다
2. **색상 구분**: 범례를 참고하여 자리 상태를 쉽게 파악할 수 있습니다
3. **빠른 예약**: 이름 입력 후 Enter 키로도 예약할 수 있습니다
4. **모바일 지원**: 스마트폰에서도 편리하게 사용할 수 있습니다

## 문제 해결

### 예약이 안 될 때
- 이름이 제대로 입력되었는지 확인하세요
- 선택한 자리가 이미 예약되지 않았는지 확인하세요
- 브라우저를 새로고침해보세요

### 세션 변경이 안 될 때
- 브라우저의 시간이 정확한지 확인하세요
- 페이지를 새로고침해보세요
- 개발자 도구를 사용하여 강제로 세션을 변경해보세요

---

**제작일**: 2025년 8월 28일  
**버전**: 2.0.0 (실시간 동기화 + 관리자 기능)  
**기술 스택**: HTML5, CSS3, JavaScript ES6, Firebase Realtime Database

## 파일 구조
```
sclab_seatmap/
├── index.html              # 메인 HTML 파일
├── style.css               # 스타일시트 (관리자 UI 포함)
├── script.js               # JavaScript 로직 (실시간 동기화 + 관리자 기능)
├── firebase-config.js      # Firebase 설정 및 Mock 구현
├── database-options.md     # 데이터베이스 옵션 설명
└── README.md              # 이 파일
```

## 라이선스
이 프로젝트는 교육 및 연구 목적으로 자유롭게 사용할 수 있습니다.
